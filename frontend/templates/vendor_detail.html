<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ vendor.name }} | Hidden Local</title>

  <link rel="stylesheet" href="/static/css/style.css">

  <style>
    /* IMAGE COLLAGE */
    .image-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin: 20px 0;
    }

    .image-grid img {
      width: 100%;
      height: 220px;
      object-fit: cover;
      border-radius: 8px;
    }

    /* REVIEWS */
    .review {
      border-bottom: 1px solid #ddd;
      padding: 10px 0;
    }

    .review strong {
      display: block;
    }
  </style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar">
  <h2 class="logo">Hidden Local</h2>
  <ul class="nav-links">
    <li><a href="/">Home</a></li>
    <li><a href="/explore">Explore</a></li>
  </ul>
</nav>

<!-- VENDOR DETAILS -->
<section class="about">

  <h1>{{ vendor.name }}</h1>
  <p>{{ vendor.category }} • {{ vendor.area }}</p>
  <p>⭐ {{ vendor.rating }}/5</p>

  <!-- IMAGE COLLAGE -->
<div class="image-collage">
  {% for img in vendor.images %}
    <img src="{{ img }}" alt="{{ vendor.name }}">
  {% endfor %}
</div>



  <h2>Description</h2>
  <p>{{ vendor.description }}</p>

  <hr>

  <!-- REVIEWS SECTION -->
  <h2>Reviews</h2>

  {% if reviews and reviews|length > 0 %}
    {% for r in reviews %}
      <div class="review">
        <strong>{{ r.username }}</strong>
        ⭐ {{ r.rating }}/5
        <p>{{ r.comment }}</p>
      </div>
    {% endfor %}
  {% else %}
    <p>No reviews yet. Be the first to add one!</p>
  {% endif %}

  <!-- REVIEW FORM -->
  <form class="vendor-form" method="POST" action="/add-review/{{ vendor.id }}">
    <input
      type="text"
      name="username"
      placeholder="Your Name"
      required
    >

    <textarea
      name="comment"
      placeholder="Write your review..."
      required
    ></textarea>

    <input
      type="number"
      name="rating"
      min="1"
      max="5"
      placeholder="Rating (1–5)"
      required
    >

    <button class="primary-btn" type="submit">
      Submit Review
    </button>
  </form>

</section>

</body>
</html>

